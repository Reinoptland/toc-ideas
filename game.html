<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body {
        height: 100vh;
        width: 100vw;
      }

      div {
        width: 100px;
        height: 100px;
        position: absolute;
        top: 0px;
        left: 0px;
        background-color: red;
      }

      span {
        width: 50px;
        height: 50px;
        position: absolute;
        top: 400px;
        left: 400px;
        background-color: greenyellow;
      }
    </style>
  </head>
  <body>
    <div id="player"></div>
    <span id="candy"></span>
  </body>
  <script>
    const player = document.getElementById("player");
    const candy = document.getElementById("candy");
    let left = 0;
    let topp = 0;
    let speed = 10;
    let direction = "right";

    setInterval(() => {
      const getRectPlayer = player.getBoundingClientRect();
      const getRectCandy = candy.getBoundingClientRect();
      console.log(getRectCandy);
      console.log(getRectPlayer);

      if (
        getRectCandy.x < getRectPlayer.x + getRectPlayer.width &&
        getRectCandy.x + getRectCandy.width > getRectPlayer.x &&
        getRectCandy.y < getRectPlayer.y + getRectPlayer.height &&
        getRectCandy.y + getRectCandy.height > getRectPlayer.y
      ) {
        // collision detected!
        console.log("hit");
        candy.style.top = Math.random() * window.innerHeight + "px";
        candy.style.left = Math.random() * window.innerWidth + "px";
      }

      switch (direction) {
        case "right":
          left = left + speed;
          player.style.left = left + "px";
          break;

        case "left":
          left = left - speed;
          player.style.left = left + "px";
          break;

        case "up":
          topp = topp - speed;
          player.style.top = topp + "px";
          break;

        case "down":
          topp = topp + speed;
          player.style.top = topp + "px";
          break;

        default:
          break;
      }
    }, 25);
    window.addEventListener("keydown", (event) => {
      event.preventDefault();
      console.log(event);
      switch (event.key) {
        case "ArrowRight":
          direction = "right";
          break;

        case "ArrowLeft":
          direction = "left";
          break;

        case "ArrowUp":
          direction = "up";
          break;

        case "ArrowDown":
          direction = "down";
          break;

        default:
          break;
      }
    });
  </script>
</html>
